<div class="top-navbar flex-between gap-16" style="height: 70px;">

    <!-- Toggle Button Start -->


    <div class="flex-align gap-16">
        <img src="/assets/img/logo.png" alt="logo" style="height: 50px; width: 60px;">
        <h2 class="pt-5">ICDMS</h2>
    </div>

    <div class="flex-align gap-16">

        <!-- User Profile Start -->
        {{#if user}}
        <div class="dropdown">
            <button
                class="users arrow-down-icon border border-gray-200 rounded-pill p-4 d-inline-block pe-40 position-relative"
                type="button" data-bs-toggle="dropdown" aria-expanded="false">
                <span class="position-relative p-4">
                    Hey {{user.Fname}}

                </span>
            </button>
            <div class="dropdown-menu dropdown-menu--lg border-0 bg-transparent p-0">
                <div class="card border border-gray-100 rounded-12 box-shadow-custom">
                    <div class="card-body">
                        <div class="flex-align gap-8 mb-20 pb-20 border-bottom border-gray-100">
                            <img src="/assets2/images/thumbs/user-img.png" alt="" class="w-54 h-54 rounded-circle">
                            <div class="">
                                <h4 class="mb-0">{{user.Fname}} {{user.Lname}}</h4>
                                <p class="fw-medium text-13 text-gray-200">{{user.Email}}</p>
                            </div>
                        </div>
                        <ul class="max-h-270 overflow-y-auto scroll-sm pe-4">
                            <li class="mb-4">
                                <a href="setting.html"
                                    class="py-12 text-15 px-20 hover-bg-gray-50 text-gray-300 rounded-8 flex-align gap-8 fw-medium text-15">
                                    <span class="text-2xl text-primary-600 d-flex"><i class="ph ph-gear"></i></span>
                                    <span class="text">Account Settings</span>
                                </a>
                            </li>

                            <li class="pt-8 border-top border-gray-100">
                                <a href="/signout"
                                    class="py-12 text-15 px-20 hover-bg-danger-50 text-gray-300 hover-text-danger-600 rounded-8 flex-align gap-8 fw-medium text-15">
                                    <span class="text-2xl text-danger-600 d-flex"><i class="ph ph-sign-out"></i></span>
                                    <span class="text">Log Out</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        {{else}}
        <div class="dropdown">
            <a href="/"
                class="users arrow-down-icon border border-gray-200 rounded-pill p-4 d-inline-block pe-40 position-relative">
                <span class="position-relative p-4">
                    Back to Home

                </span>
            </a>

        </div>
        {{/if}}
        <!-- User Profile Start -->

    </div>
</div>
<section class="auth d-flex">
    <div class="auth-left bg-main-50 flex-center p-24">
        <img src="/images/img/Logo.png" alt="">
    </div>
    <div class="auth-right py-40 px-24 flex-center flex-column">
        <div class="auth-right__inner mx-auto w-100">

            <h2 class="mb-8">Create a New Account! &#128075;</h2>
            <p class="text-gray-600 text-15 mb-32">Please sign in to your account and start the adventure</p>

            {{#if signInErr}}
            <p class="text-danger mb-4 mt-0 ">{{signInErr}}</p>
            {{/if}}

            <form action="/signup" method="POST" autocomplete="off">
                <input type="hidden" name="date" id="datetime">

                <div class="row mb-14">
                    <div class="col-6">
                        <label for="text" class="form-label mb-8 h6">First Name</label>
                        <div class="position-relative">
                            <input class="form-control py-11 ps-40" id="text" type="text" name="Fname" value="{{Fname}}"
                                placeholder="Your First Name" pattern="[A-Za-z\s]+" title="Only letters are allowed">

                            <span class="position-absolute top-50 translate-middle-y ms-16 text-gray-600 d-flex"><i
                                    class="ph ph-user"></i></span>

                        </div>
                        {{#if errors.fname}}<div class="text-danger">{{errors.fname}}</div>{{/if}}
                    </div>
                    <div class="col-6">
                        <label for="text" class="form-label mb-8 h6">Last Name</label>
                        <div class="position-relative">
                            <input class="form-control py-11 ps-40" id="text" type="text" name="Lname" value="{{Lname}}"
                                placeholder="Your Last Name" pattern="[A-Za-z\s]+" title="Only letters are allowed">

                            <span class="position-absolute top-50 translate-middle-y ms-16 text-gray-600 d-flex"><i
                                    class="ph ph-user"></i></span>
                        </div>
                        {{#if errors.lname}}<div class="text-danger">{{errors.lname}}</div>{{/if}}
                    </div>
                </div>


                <label for="email" class="form-label mb-8 h6">Email</label>
                <div class="position-relative mb-14">
                    <input class="form-control py-11 ps-40" id="email" type="email" name="Email" value="{{Email}}"
                        placeholder="Your Email">

                    <span class="position-absolute top-50 translate-middle-y ms-16 text-gray-600 d-flex"><i
                            class="ph ph-user"></i></span>
                </div>
                {{#if errors.email}}<div class="text-danger">{{errors.email}}</div>{{/if}}



                <label for="phone Number" class="form-label mb-8 h6">Phone Number</label>
                <div class="position-relative mb-14">
                    <input class="form-control py-11 ps-40" id="phone Number" type="number" name="Phone"
                        value="{{Phone}}" placeholder="Your Phone Number" pattern="^\d{10}$">

                    <span class="position-absolute top-50 translate-middle-y ms-16 text-gray-600 d-flex"><i
                            class="ph ph-user"></i></span>
                </div>
                {{#if errors.phone}}<div class="text-danger">{{errors.phone}}</div>{{/if}}



                <div class="mb-14">
                    <label for="current-password" class="form-label mb-8 h6"> Password</label>
                    <div class="position-relative">
                        <input class="form-control py-11 ps-40" id="current-password" name="Password"
                            value="{{Password}}" type="password" placeholder="Enter Password">
                        <span
                            class="toggle-password position-absolute top-50 inset-inline-end-0 me-16 translate-middle-y ph ph-eye-slash"
                            id="#current-password"></span>
                        <span class="position-absolute top-50 translate-middle-y ms-16 text-gray-600 d-flex"><i
                                class="ph ph-lock"></i></span>
                    </div>
                    {{#if errors.password}}<div class="text-danger">{{errors.password}}</div>{{/if}}
                </div>
                <div class="mb-32 flex-between flex-wrap gap-8">

                    {{!-- <a href="forgot-password.html"
                        class="text-main-600 hover-text-decoration-underline text-15 fw-medium">Forgot Password?</a>
                    --}}
                </div>
                <button type="submit" class="btn btn-main rounded-pill w-100">Sign Up</button>
                <p class="mt-32 text-gray-600 text-center">Already have an account?
                    <a href="/signin" class="text-main-600 hover-text-decoration-underline">Signin now</a>
                </p>



            </form>
        </div>
    </div>
</section>




<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function (event) {
        function searchPin() {
            let pin = document.getElementById("text").value;
            $.getJSON("https://api.postalpincode.in/pincode/" + pin, function (data) {
                createHTML(data);
            });

            function createHTML(data) {
                var htmlElements = " ";
                var msg = "";

                // Check if PostOffice array exists and has items
                if (data[0].PostOffice && data[0].PostOffice.length) {
                    // Limit to the first item in the PostOffice array
                    var postOffice = data[0].PostOffice[0];

                    // Set District and State input fields
                    document.getElementById("district").value = postOffice.District || ''; // Update District field
                    document.getElementById("state").value = postOffice.State || ''; // Update State field

                    // Create HTML for the first PostOffice item
                    htmlElements += '<div class="col-sm-4"><div class="card"><div class="list-group"><h4>' + postOffice.District + '</h4><p>PostOffice :<span class="pull-right">' + postOffice.State + '</span></p></div></div></div>';
                } else {
                    alert('Enter Valid pincode');
                }

                // Update the HTML content
                var htmlView = document.getElementById("mkslider");
                htmlView.innerHTML = htmlElements;
                var msgView = document.getElementById("total-msg");
                msgView.innerHTML = msg;
            }

            setTimeout(function () {
                $('#close').trigger('click');
            }, 3000);
        }

        $(document).on("click", '#close', function () {
            $('#total-msg').remove();
        });

        document.getElementById("submit").addEventListener("click", searchPin);
    });

</script>

<script>
    // Get current date and time
    const now = new Date();
    const year = now.getFullYear();
    const month = (now.getMonth() + 1).toString().padStart(2, '0');
    const day = now.getDate().toString().padStart(2, '0');
    const hours = ((now.getHours() + 11) % 12 + 1).toString().padStart(2, '0'); // Convert to 12-hour format
    const minutes = now.getMinutes().toString().padStart(2, '0');
    const ampm = now.getHours() >= 12 ? 'PM' : 'AM';

    // Set default value to current date and time in 12-hour format with AM/PM
    const defaultDateTime = `${year}-${month}-${day}T${hours}:${minutes}`;
    document.getElementById('datetime').value = defaultDateTime;


document.addEventListener('DOMContentLoaded', function () {
    const phoneInput = document.getElementById('phone Number');
    const message = document.createElement('div');
    message.style.color = 'red';
    message.style.fontSize = '0.9em';
    phoneInput.parentNode.appendChild(message);

    phoneInput.addEventListener('input', function () {
        const phonePattern = /^\d{10}$/;
        const value = phoneInput.value;

        if (!phonePattern.test(value)) {
            message.textContent = 'Please enter a valid 10-digit phone number.';
        } else {
            message.textContent = '';
        }
    });
});
</script>